import{u as M,_ as q}from"./CyJ_gzGH.js";import{m as E,g as w,_ as K,h as P,i as R,j as z,k as N,l as F,n as J,o as s,q as C,w as y,c as p,r as U,s as I,v as B,x as L,y as G,z as T,A as H,a as u,B as g,t as h,b as m,F as A,C as Q,D as k,E as W,G as X,H as Z,I as ee,J as ne,K as oe,L as ae}from"./BowZ-21E.js";const te={base:"",background:"bg-white dark:bg-gray-900",divide:"divide-y divide-gray-200 dark:divide-gray-800",ring:"ring-1 ring-gray-200 dark:ring-gray-800",rounded:"rounded-lg",shadow:"shadow",body:{base:"",background:"",padding:"px-4 py-5 sm:p-6"},header:{base:"",background:"",padding:"px-4 py-5 sm:px-6"},footer:{base:"",background:"",padding:"px-4 py-4 sm:px-6"}},se={base:"mx-auto",padding:"px-4 sm:px-6 lg:px-8",constrained:"max-w-7xl"},re=E(w.ui.strategy,w.ui.card,te),le=P({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:r}=R("card",z(e,"ui"),re),d=N(()=>F(J(a.value.base,a.value.rounded,a.value.divide,a.value.ring,a.value.shadow,a.value.background),e.class));return{ui:a,attrs:r,cardClass:d}}});function de(e,a,r,d,i,c){return s(),C(G(e.$attrs.onSubmit?"form":e.as),L({class:e.cardClass},e.attrs),{default:y(()=>[e.$slots.header?(s(),p("div",{key:0,class:U([e.ui.header.base,e.ui.header.padding,e.ui.header.background])},[I(e.$slots,"header")],2)):B("",!0),e.$slots.default?(s(),p("div",{key:1,class:U([e.ui.body.base,e.ui.body.padding,e.ui.body.background])},[I(e.$slots,"default")],2)):B("",!0),e.$slots.footer?(s(),p("div",{key:2,class:U([e.ui.footer.base,e.ui.footer.padding,e.ui.footer.background])},[I(e.$slots,"footer")],2)):B("",!0)]),_:3},16,["class"])}const ue=K(le,[["render",de]]),ie=E(w.ui.strategy,w.ui.container,se),ce=P({inheritAttrs:!1,props:{as:{type:String,default:"div"},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})}},setup(e){const{ui:a,attrs:r}=R("container",z(e,"ui"),ie),d=N(()=>F(J(a.value.base,a.value.padding,a.value.constrained),e.class));return{ui:a,attrs:r,containerClass:d}}});function me(e,a,r,d,i,c){return s(),C(G(e.as),L({class:e.containerClass},e.attrs),{default:y(()=>[I(e.$slots,"default")]),_:3},16,["class"])}const Y=K(ce,[["render",me]]),pe={class:"column-header mb-4"},fe={key:1},ge={__name:"BoardColumn",props:{column:{type:Object,required:!0},columnIndex:{type:Number,required:!0}},setup(e){const a=e,r=M();T(!1);const d=T(!1),i=H(),c=T("");function D(o){r.deleteColumn(o)}function S(){r.addTask(a.columnIndex,c.value),c.value=""}function j(o){i.push(`/tasks/${o}`),console.log("Task ID: ",o)}function v(o,{fromTaskIndex:n,fromColumnIndex:l}){console.log("Picking up task: ",o,{fromColumnIndex:l,fromTaskIndex:n}),o.dataTransfer.effectAllowed="move",o.dataTransfer.dropEffect="move",o.dataTransfer.setData("type","task"),o.dataTransfer.setData("from-Column-Index",l),o.dataTransfer.setData("from-Task-Index",n)}function V(o,n){console.log("Picking up task: ",o,{fromColumnIndex:n}),o.dataTransfer.effectAllowed="move",o.dataTransfer.dropEffect="move",o.dataTransfer.setData("type","column"),o.dataTransfer.setData("from-Column-Index",n)}function x(o,{toColumnIndex:n,toTaskIndex:l}){const f=o.dataTransfer.getData("type"),b=o.dataTransfer.getData("from-Column-Index");if(f==="task"){const $=o.dataTransfer.getData("from-Task-Index");console.log({fromColumnIndex:b,fromTaskIndex:$}),r.moveTask({fromTaskIndex:$,toTaskIndex:l,fromColumnIndex:b,toColumnIndex:n})}else f==="column"&&(console.log({fromColumnIndex:b}),r.moveColumn({fromColumnIndex:b,toColumnIndex:n}))}return(o,n)=>{const l=q,f=Z,b=ue,$=Y;return s(),C($,{class:"column",onDragenter:n[4]||(n[4]=k(()=>{},["prevent"])),onDragover:n[5]||(n[5]=k(()=>{},["prevent"])),onDrop:n[6]||(n[6]=k(t=>x(t,{toColumnIndex:e.columnIndex}),["stop"])),draggable:"true",onDragstart:n[7]||(n[7]=k(t=>V(t,e.columnIndex),["self"]))},{default:y(()=>[u("div",pe,[u("div",null,[g(d)?(s(),C(l,{key:0,modelValue:e.column.name,"onUpdate:modelValue":n[0]||(n[0]=t=>e.column.name=t),type:"text"},null,8,["modelValue"])):(s(),p("h2",fe,h(e.column.name),1))]),u("div",null,[m(f,{icon:"i-heroicons-pencil-square",onClick:n[1]||(n[1]=t=>d.value=!g(d)),class:"mr-2"}),m(f,{icon:"i-heroicons-trash",color:"red",onClick:n[2]||(n[2]=t=>D(e.columnIndex))})])]),u("ul",null,[(s(!0),p(A,null,Q(e.column.tasks,(t,O)=>(s(),p("li",{key:t.name},[m(b,{class:"mb-4",onClick:_=>j(t.id),draggable:"true",onDragstart:_=>v(_,{fromTaskIndex:O,fromColumnIndex:e.columnIndex}),onDrop:k(_=>x(_,{toColumnIndex:e.columnIndex,toTaskIndex:O}),["stop"])},{default:y(()=>[u("strong",null,h(t.name),1),u("p",null,h(t.description),1)]),_:2},1032,["onClick","onDragstart","onDrop"])]))),128))]),m(l,{modelValue:g(c),"onUpdate:modelValue":n[3]||(n[3]=t=>W(c)?c.value=t:null),type:"text",placeholder:"Create new column",icon:"i-heroicons-plus-circle-solid",onKeyup:X(S,["enter"])},null,8,["modelValue"])]),_:1})}}},be={class:"border-green-200 bg-green-50 dark:bg-green-800 dark:border-green-700"},ke={class:"max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4"},ye={class:"text-xl font-bold"},Ce={class:"board"},$e={__name:"index",setup(e){const a=M(),r=ee(),d=H(),i=T(""),c=N(()=>r.name==="index-tasks-id");function D(){a.addColumn(i.value),i.value=""}function S(){console.log("Close Modal"),d.push("/")}return(j,v)=>{const V=ge,x=q,o=Y,n=ae;return s(),p(A,null,[u("nav",be,[u("div",ke,[u("h1",ye,h(g(a).board.name),1)])]),m(o,{class:"board-wrapper"},{default:y(()=>[u("main",Ce,[(s(!0),p(A,null,Q(g(a).board.Columns,(l,f)=>(s(),C(V,{key:l.id,column:l,columnIndex:f,class:"column"},null,8,["column","columnIndex"]))),128)),m(o,{class:"column"},{default:y(()=>[m(x,{modelValue:g(i),"onUpdate:modelValue":v[0]||(v[0]=l=>W(i)?i.value=l:null),type:"text",placeholder:"Add Column",icon:"i-heroicons-plus-circle-solid",onKeyup:X(D,["enter"])},null,8,["modelValue"])]),_:1})])]),_:1}),ne(u("div",{class:"task-bg",onClick:k(S,["self"])},[m(n)],512),[[oe,g(c)]])],64)}}};export{$e as default};
