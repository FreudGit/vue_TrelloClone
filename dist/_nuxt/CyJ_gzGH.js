import{N as B,z as V,k as o,Z as _,m as P,$ as ee,g as h,_ as ae,h as ne,a0 as W,i as le,j as A,a1 as te,T as ie,U as ue,l as oe,n as C,o as U,c as D,a as se,x as de,s as N,r as k,b as M,v as R,X as ce,a2 as re,a3 as ge}from"./BowZ-21E.js";const ve=(e,n)=>{const g=B("form-events",void 0),a=B("form-group",void 0),y=B("form-inputs",void 0);a&&(e!=null&&e.id&&(a.inputId.value=e==null?void 0:e.id),y&&(y.value[a.name.value]=a.inputId.value));const b=V(!1);function r(l,d){g&&g.emit({type:l,path:d})}function c(){r("blur",a==null?void 0:a.name.value),b.value=!0}function i(){r("change",a==null?void 0:a.name.value)}const s=_(()=>{(b.value||a!=null&&a.eagerValidation.value)&&r("input",a==null?void 0:a.name.value)},300);return{inputId:o(()=>(e==null?void 0:e.id)??(a==null?void 0:a.inputId.value)),name:o(()=>(e==null?void 0:e.name)??(a==null?void 0:a.name.value)),size:o(()=>{var d;const l=n.size[a==null?void 0:a.size.value]?a==null?void 0:a.size.value:null;return(e==null?void 0:e.size)??l??((d=n==null?void 0:n.default)==null?void 0:d.size)}),color:o(()=>{var l;return(l=a==null?void 0:a.error)!=null&&l.value?"red":e==null?void 0:e.color}),emitFormBlur:c,emitFormInput:s,emitFormChange:i}},v=P(h.ui.strategy,h.ui.input,ee),me=ne({components:{UIcon:W},inheritAttrs:!1,props:{modelValue:{type:[String,Number],default:""},type:{type:String,default:"text"},id:{type:String,default:null},name:{type:String,default:null},placeholder:{type:String,default:null},required:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},autofocus:{type:Boolean,default:!1},autofocusDelay:{type:Number,default:100},icon:{type:String,default:null},loadingIcon:{type:String,default:()=>v.default.loadingIcon},leadingIcon:{type:String,default:null},trailingIcon:{type:String,default:null},trailing:{type:Boolean,default:!1},leading:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},padded:{type:Boolean,default:!0},size:{type:String,default:null,validator(e){return Object.keys(v.size).includes(e)}},color:{type:String,default:()=>v.default.color,validator(e){return[...h.ui.colors,...Object.keys(v.color)].includes(e)}},variant:{type:String,default:()=>v.default.variant,validator(e){return[...Object.keys(v.variant),...Object.values(v.color).flatMap(n=>Object.keys(n))].includes(e)}},inputClass:{type:String,default:null},class:{type:[String,Object,Array],default:()=>""},ui:{type:Object,default:()=>({})},modelModifiers:{type:Object,default:()=>({})}},emits:["update:modelValue","blur","change"],setup(e,{emit:n,slots:g}){const{ui:a,attrs:y}=le("input",A(e,"ui"),v,A(e,"class")),{size:b,rounded:r}=te({ui:a,props:e}),{emitFormBlur:c,emitFormInput:i,size:s,color:l,inputId:d,name:T}=ve(e,v),m=o(()=>b.value||s.value),I=V(ie({},e.modelModifiers,{trim:!1,lazy:!1,number:!1})),$=V(null),E=()=>{var t;e.autofocus&&((t=$.value)==null||t.focus())},w=t=>{I.value.trim&&(t=t.trim()),(I.value.number||e.type==="number")&&(t=ce(t)),n("update:modelValue",t),i()},L=t=>{I.value.lazy||w(t.target.value)},H=t=>{if(e.type==="file"){const f=t.target.files;n("change",f)}else{const f=t.target.value;n("change",f),I.value.lazy&&w(f),I.value.trim&&(t.target.value=f.trim())}},J=t=>{c(),n("blur",t)};ue(()=>{setTimeout(()=>{E()},e.autofocusDelay)});const X=o(()=>{var f,O;const t=((O=(f=a.value.color)==null?void 0:f[l.value])==null?void 0:O[e.variant])||a.value.variant[e.variant];return oe(C(a.value.base,a.value.form,r.value,a.value.placeholder,e.type==="file"&&a.value.file.base,a.value.size[m.value],e.padded?a.value.padding[m.value]:"p-0",t==null?void 0:t.replaceAll("{color}",l.value),(S.value||g.leading)&&a.value.leading.padding[m.value],(F.value||g.trailing)&&a.value.trailing.padding[m.value]),e.inputClass)}),S=o(()=>e.icon&&e.leading||e.icon&&!e.trailing||e.loading&&!e.trailing||e.leadingIcon),F=o(()=>e.icon&&e.trailing||e.loading&&e.trailing||e.trailingIcon),Z=o(()=>e.loading?e.loadingIcon:e.leadingIcon||e.icon),K=o(()=>e.loading&&!S.value?e.loadingIcon:e.trailingIcon||e.icon),Q=o(()=>C(a.value.icon.leading.wrapper,a.value.icon.leading.pointer,a.value.icon.leading.padding[m.value])),Y=o(()=>C(a.value.icon.base,l.value&&h.ui.colors.includes(l.value)&&a.value.icon.color.replaceAll("{color}",l.value),a.value.icon.size[m.value],e.loading&&a.value.icon.loading)),G=o(()=>C(a.value.icon.trailing.wrapper,a.value.icon.trailing.pointer,a.value.icon.trailing.padding[m.value])),x=o(()=>C(a.value.icon.base,l.value&&h.ui.colors.includes(l.value)&&a.value.icon.color.replaceAll("{color}",l.value),a.value.icon.size[m.value],e.loading&&!S.value&&a.value.icon.loading));return{ui:a,attrs:y,name:T,inputId:d,input:$,isLeading:S,isTrailing:F,inputClass:X,leadingIconName:Z,leadingIconClass:Y,leadingWrapperIconClass:Q,trailingIconName:K,trailingIconClass:x,trailingWrapperIconClass:G,onInput:L,onChange:H,onBlur:J}}}),fe=["id","name","value","type","required","placeholder","disabled"];function ye(e,n,g,a,y,b){const r=W;return U(),D("div",{class:k(e.type==="hidden"?"hidden":e.ui.wrapper)},[se("input",de({id:e.inputId,ref:"input",name:e.name,value:e.modelValue,type:e.type,required:e.required,placeholder:e.placeholder,disabled:e.disabled,class:e.inputClass},e.attrs,{onInput:n[0]||(n[0]=(...c)=>e.onInput&&e.onInput(...c)),onBlur:n[1]||(n[1]=(...c)=>e.onBlur&&e.onBlur(...c)),onChange:n[2]||(n[2]=(...c)=>e.onChange&&e.onChange(...c))}),null,16,fe),N(e.$slots,"default"),e.isLeading&&e.leadingIconName||e.$slots.leading?(U(),D("span",{key:0,class:k(e.leadingWrapperIconClass)},[N(e.$slots,"leading",{disabled:e.disabled,loading:e.loading},()=>[M(r,{name:e.leadingIconName,class:k(e.leadingIconClass)},null,8,["name","class"])])],2)):R("",!0),e.isTrailing&&e.trailingIconName||e.$slots.trailing?(U(),D("span",{key:1,class:k(e.trailingWrapperIconClass)},[N(e.$slots,"trailing",{disabled:e.disabled,loading:e.loading},()=>[M(r,{name:e.trailingIconName,class:k(e.trailingIconClass)},null,8,["name","class"])])],2)):R("",!0)],2)}const Be=ae(me,[["render",ye]]);var u=[];for(var j=0;j<256;++j)u.push((j+256).toString(16).slice(1));function be(e,n=0){return(u[e[n+0]]+u[e[n+1]]+u[e[n+2]]+u[e[n+3]]+"-"+u[e[n+4]]+u[e[n+5]]+"-"+u[e[n+6]]+u[e[n+7]]+"-"+u[e[n+8]]+u[e[n+9]]+"-"+u[e[n+10]]+u[e[n+11]]+u[e[n+12]]+u[e[n+13]]+u[e[n+14]]+u[e[n+15]]).toLowerCase()}var z,Ie=new Uint8Array(16);function Ce(){if(!z&&(z=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!z))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return z(Ie)}var ke=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);const p={randomUUID:ke};function q(e,n,g){if(p.randomUUID&&!n&&!e)return p.randomUUID();e=e||{};var a=e.random||(e.rng||Ce)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,be(a)}const he="Nuxt Trello Clone (with nuxt/ui)",Se=[{id:"111",name:"To Do",tasks:[{id:"58d2d24e-c55c-43b0-aa2d-18c3cbc388b3",name:"Task 1",description:"This is task 1",status:"To Do"},{id:"02b9819b-09f7-4d50-b210-a5ab8db8760f",name:"Task 2",description:"This is task 2",status:"To Do"}]},{id:"222",name:"In Progress",tasks:[{id:"6abe8c29-44b9-4cb6-a673-c63ac567bb3c",name:"Task 3",description:"This is task 3",status:"In Progress"}]},{id:"333",name:"Done",tasks:[{id:"722b6536-4b01-46a6-b605-44b707d78171",name:"Task 4",description:"This is task 4",status:"Done"}]}],ze={name:he,Columns:Se},Ue=re("boardStore",()=>{const e=ge("board",ze),n=o(()=>i=>{for(const s of e.value.Columns){const l=s.tasks.find(d=>d.id===i);if(l)return l}});function g(i,s){e.value.Columns[i].tasks.push({id:q(),name:s,description:"",status:"todo"})}function a(i){for(const s in e.value.Columns){const l=e.value.Columns[s].tasks.findIndex(d=>d.id===i);if(l!==-1){e.value.Columns[s].tasks.splice(l,1);return}}}function y({fromTaskIndex:i,toTaskIndex:s,fromColumnIndex:l,toColumnIndex:d}){const T=e.value.Columns[l].tasks.splice(i,1)[0];e.value.Columns[d].tasks.splice(s,0,T)}function b(i){e.value.Columns.push({id:q(),name:i,tasks:[]})}function r(i){e.value.Columns.splice(i,1)}function c({fromColumnIndex:i,toColumnIndex:s}){const l=e.value.Columns[i];e.value.Columns.splice(i,1),e.value.Columns.splice(s,0,l)}return{board:e,addColumn:b,deleteColumn:r,getTask:n,addTask:g,deleteTask:a,moveTask:y,moveColumn:c}});export{Be as _,ve as a,Ue as u};
